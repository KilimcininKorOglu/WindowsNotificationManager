<!--
    Main application window providing user interface for Windows Notification Manager.
    Displays system status, monitor configuration, active windows, and application settings.
    Uses responsive layout with side-by-side sections for optimal information display.
    Supports localization and handles window state changes for system tray integration.
-->
<Window x:Class="WindowsNotificationManager.src.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WindowsNotificationManager.src.UI"
        Title="KorOglan's Windows Notification Manager"
        Height="850"
        Width="950"
        MinHeight="500"
        MinWidth="700"
        WindowStartupLocation="CenterScreen"
        StateChanged="MainWindow_StateChanged">

    <Grid>
        <!-- Main layout structure: Header, Content, Footer -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>     <!-- Fixed header section -->
            <RowDefinition Height="*"/>        <!-- Expandable content area -->
            <RowDefinition Height="Auto"/>     <!-- Fixed footer section -->
        </Grid.RowDefinitions>

        <!-- Header Section: Application branding and identification -->
        <Border Grid.Row="0" Background="#2D2D30" Padding="20,15">
            <StackPanel>
                <!-- Main application title with prominent styling -->
                <TextBlock x:Name="HeaderTitleText"
                          FontSize="18"
                          FontWeight="Bold"
                          Foreground="White"/>
                <!-- Subtitle describing application purpose -->
                <TextBlock x:Name="HeaderSubtitleText"
                          FontSize="12"
                          Foreground="#CCCCCC"
                          Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Main Content Area: Scrollable content with all application information -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20">

                <!-- System Status Section: Real-time service and system information -->
                <GroupBox x:Name="SystemStatusGroupBox" Margin="0,0,0,20">
                    <Grid Margin="10">
                        <!-- Two-column layout for labels and values -->
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>   <!-- Labels column -->
                            <ColumnDefinition Width="*"/>      <!-- Values column -->
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>     <!-- Service status row -->
                            <RowDefinition Height="Auto"/>     <!-- Monitor count row -->
                            <RowDefinition Height="Auto"/>     <!-- Tracked windows row -->
                        </Grid.RowDefinitions>

                        <!-- Service Status Display -->
                        <TextBlock Grid.Row="0" Grid.Column="0" x:Name="ServiceStatusLabel" FontWeight="Bold" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Name="ServiceStatusText" Margin="0,0,0,5"/>

                        <!-- Monitor Count Display -->
                        <TextBlock Grid.Row="1" Grid.Column="0" x:Name="MonitorCountLabel" FontWeight="Bold" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" Name="MonitorCountText" Margin="0,0,0,5"/>

                        <!-- Tracked Windows Count Display -->
                        <TextBlock Grid.Row="2" Grid.Column="0" x:Name="TrackedWindowsLabel" FontWeight="Bold" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" Name="TrackedWindowsText" Margin="0,0,0,5"/>
                    </Grid>
                </GroupBox>

                <!-- Dual Panel Section: Monitors and Active Windows displayed side by side -->
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>      <!-- Monitors panel -->
                        <ColumnDefinition Width="10"/>     <!-- Spacing between panels -->
                        <ColumnDefinition Width="*"/>      <!-- Active windows panel -->
                    </Grid.ColumnDefinitions>

                    <!-- Monitor Configuration Panel: Displays all detected monitors with details -->
                    <GroupBox Grid.Column="0" x:Name="MonitorsGroupBox">
                        <StackPanel Margin="10">
                            <!-- Monitor list with detailed information for each display -->
                            <ListView Name="MonitorsListView" Height="200" SelectionMode="Single">
                                <ListView.View>
                                    <GridView>
                                        <!-- Monitor index for identification -->
                                        <GridViewColumn x:Name="IndexHeader" Width="50" DisplayMemberBinding="{Binding Index}"/>
                                        <!-- Primary monitor indicator -->
                                        <GridViewColumn x:Name="PrimaryMonitorHeader" Width="70">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding IsPrimary}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <!-- Monitor resolution display -->
                                        <GridViewColumn x:Name="ResolutionHeader" Width="100">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock>
                                                        <TextBlock.Text>
                                                            <!-- Format resolution as "1920x1080" -->
                                                            <MultiBinding StringFormat="{}{0}x{1}">
                                                                <Binding Path="Bounds.Width"/>
                                                                <Binding Path="Bounds.Height"/>
                                                            </MultiBinding>
                                                        </TextBlock.Text>
                                                    </TextBlock>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </StackPanel>
                    </GroupBox>

                    <!-- Active Windows Panel: Shows currently tracked application windows -->
                    <GroupBox Grid.Column="2" x:Name="ActiveWindowsGroupBox">
                        <StackPanel Margin="10">
                            <!-- Window tracking list showing application information and monitor assignment -->
                            <ListView Name="WindowsListView" Height="200">
                                <ListView.View>
                                    <GridView>
                                        <!-- Application process name for identification -->
                                        <GridViewColumn x:Name="ApplicationHeader" Width="120" DisplayMemberBinding="{Binding ProcessName}"/>
                                        <!-- Window title for context -->
                                        <GridViewColumn x:Name="TitleHeader" Width="150" DisplayMemberBinding="{Binding Title}"/>
                                        <!-- Monitor assignment for notification routing -->
                                        <GridViewColumn x:Name="MonitorHeader" Width="70">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <!-- Display monitor index in localized format -->
                                                    <TextBlock Text="{Binding Monitor.Index, StringFormat='MonitÃ¶r {0}'}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>

                            <!-- Manual refresh button for updating window tracking list -->
                            <Button Name="RefreshWindowsBtn"
                                   Margin="0,10,0,0"
                                   Padding="10,5"
                                   Click="RefreshWindowsBtn_Click"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>

                <!-- Application Settings Section: User configuration options -->
                <GroupBox x:Name="SettingsGroupBox" Margin="0,0,0,20">
                    <StackPanel Margin="15">

                        <!-- Startup behavior configuration -->
                        <CheckBox Name="StartWithWindowsCheckBox" Margin="0,0,0,10"/>

                        <!-- Debug logging toggle for troubleshooting -->
                        <CheckBox Name="EnableDebugLoggingCheckBox" Margin="0,0,0,20"/>

                        <!-- Settings action buttons arranged horizontally -->
                        <StackPanel Orientation="Horizontal">
                            <!-- Reset all settings to default values -->
                            <Button Name="RestoreDefaultsBtn" Padding="15,8" Margin="0,0,15,0" Click="RestoreDefaultsBtn_Click"/>
                            <!-- Apply current settings to registry -->
                            <Button Name="ApplySettingsBtn" Padding="15,8" Click="ApplySettingsBtn_Click"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>

            </StackPanel>
        </ScrollViewer>

        <!-- Footer Section: Window control actions -->
        <Border Grid.Row="2" Background="#F0F0F0" Padding="20,10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <!-- Hide window to system tray for background operation -->
                <Button Name="MinimizeToTrayBtn" Padding="15,5" Click="MinimizeToTrayBtn_Click"/>
            </StackPanel>
        </Border>
    </Grid>

    <!-- Window Resources: Data converters and value transformers -->
    <Window.Resources>
        <!-- Standard WPF converter for boolean to visibility transformation -->
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <!-- Custom converter for boolean to localized Yes/No text transformation -->
        <local:BooleanToYesNoConverter x:Key="BooleanToYesNoConverter"/>
    </Window.Resources>
</Window>