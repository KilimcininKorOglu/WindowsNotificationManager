<Window x:Class="WindowsNotificationManager.src.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:WindowsNotificationManager.src.UI"
        Title="KorOglan's Windows Notification Manager"
        Height="850"
        Width="800"
        MinHeight="500"
        MinWidth="600"
        WindowStartupLocation="CenterScreen"
        StateChanged="MainWindow_StateChanged">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2D2D30" Padding="20,15">
            <StackPanel>
                <TextBlock x:Name="HeaderTitleText"
                          FontSize="18"
                          FontWeight="Bold"
                          Foreground="White"/>
                <TextBlock x:Name="HeaderSubtitleText"
                          FontSize="12"
                          Foreground="#CCCCCC"
                          Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20">

                <!-- Status Section -->
                <GroupBox x:Name="SystemStatusGroupBox" Margin="0,0,0,20">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" x:Name="ServiceStatusLabel" FontWeight="Bold" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Name="ServiceStatusText" Margin="0,0,0,5"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" x:Name="MonitorCountLabel" FontWeight="Bold" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" Name="MonitorCountText" Margin="0,0,0,5"/>

                        <TextBlock Grid.Row="2" Grid.Column="0" x:Name="TrackedWindowsLabel" FontWeight="Bold" Margin="0,0,10,5"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" Name="TrackedWindowsText" Margin="0,0,0,5"/>
                    </Grid>
                </GroupBox>

                <!-- Monitors and Windows Section Side by Side -->
                <Grid Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="10"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Monitors Section -->
                    <GroupBox Grid.Column="0" x:Name="MonitorsGroupBox">
                        <StackPanel Margin="10">
                            <ListView Name="MonitorsListView" Height="200" SelectionMode="Single">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn x:Name="IndexHeader" Width="50" DisplayMemberBinding="{Binding Index}"/>
                                        <GridViewColumn x:Name="PrimaryMonitorHeader" Width="70">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding IsPrimary}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn x:Name="ResolutionHeader" Width="100">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock>
                                                        <TextBlock.Text>
                                                            <MultiBinding StringFormat="{}{0}x{1}">
                                                                <Binding Path="Bounds.Width"/>
                                                                <Binding Path="Bounds.Height"/>
                                                            </MultiBinding>
                                                        </TextBlock.Text>
                                                    </TextBlock>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </StackPanel>
                    </GroupBox>

                    <!-- Active Windows Section -->
                    <GroupBox Grid.Column="2" x:Name="ActiveWindowsGroupBox">
                        <StackPanel Margin="10">
                            <ListView Name="WindowsListView" Height="200">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn x:Name="ApplicationHeader" Width="120" DisplayMemberBinding="{Binding ProcessName}"/>
                                        <GridViewColumn x:Name="TitleHeader" Width="150" DisplayMemberBinding="{Binding Title}"/>
                                        <GridViewColumn x:Name="MonitorHeader" Width="70">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Monitor.Index, StringFormat='MonitÃ¶r {0}'}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>

                            <Button Name="RefreshWindowsBtn"
                                   Margin="0,10,0,0"
                                   Padding="10,5"
                                   Click="RefreshWindowsBtn_Click"/>
                        </StackPanel>
                    </GroupBox>
                </Grid>

                <!-- Settings Section -->
                <GroupBox x:Name="SettingsGroupBox" Margin="0,0,0,20">
                    <StackPanel Margin="15">

                        <!-- General Settings -->
                        <TextBlock x:Name="GeneralSettingsHeader" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                        <CheckBox Name="StartWithWindowsCheckBox" Margin="0,0,0,10"/>
                        <CheckBox Name="EnableDebugLoggingCheckBox" Margin="0,0,0,20"/>


                        <!-- Settings Buttons -->
                        <StackPanel Orientation="Horizontal">
                            <Button Name="RestoreDefaultsBtn" Padding="15,8" Margin="0,0,15,0" Click="RestoreDefaultsBtn_Click"/>
                            <Button Name="ApplySettingsBtn" Padding="15,8" Click="ApplySettingsBtn_Click"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>

            </StackPanel>
        </ScrollViewer>

        <!-- Footer -->
        <Border Grid.Row="2" Background="#F0F0F0" Padding="20,10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <Button Name="MinimizeToTrayBtn" Padding="15,5" Click="MinimizeToTrayBtn_Click"/>
            </StackPanel>
        </Border>
    </Grid>

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
        <local:BooleanToYesNoConverter x:Key="BooleanToYesNoConverter"/>
    </Window.Resources>
</Window>